<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Berita Acara PDF</title>
    <style>
      body {
        font-size: 12px;
      }

      table {
        border-collapse: collapse;
      }

      /* Table Header */
      .header {
        width: 50%;
      }

      .header table tr td:first-child {
        font-weight: bold;
      }

      .chart {
        width: 100%;
        height: 250px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Table Header -->
      <div class="header">
        <table cellspacing="0" cellpadding="8">
          <tr>
            <td>Nomor</td>
            <td>1</td>
          </tr>
          <tr>
            <td>Nama</td>
            <td>Cody Fisher</td>
          </tr>
          <tr>
            <td>Jenis Kelamin</td>
            <td>Perempuan</td>
          </tr>
          <tr>
            <td>Pendidikan</td>
            <td>S1 Teknik Informatika</td>
          </tr>
          <tr>
            <td>Perusahaan</td>
            <td>PT. BTS.id</td>
          </tr>
          <tr>
            <td>Tanggal Assestment</td>
            <td>17/08/1945</td>
          </tr>
        </table>
      </div>

      <!-- List Asesi -->
      <div style="margin-top: 20px; margin-bottom: 20px">
        <h3>Laporan</h3>
        <table
          border="1"
          bordercolor="#555"
          cellspacing="0"
          cellpadding="10"
          width="100%"
        >
          <thead>
            <tr>
              <th>Line</th>
              <th>D</th>
              <th>I</th>
              <th>S</th>
              <th>C</th>
              <th>*</th>
              <th>tot</th>
            </tr>
          </thead>

          <!-- Value Here -->
          <tbody>
            <tr>
              <td>1</td>
              <td>9</td>
              <td>3</td>
              <td>3</td>
              <td>4</td>
              <td>44</td>
              <td>24</td>
            </tr>

            <tr>
              <td>3</td>
              <td>9</td>
              <td>3</td>
              <td>3</td>
              <td>4</td>
              <td>44</td>
              <td>24</td>
            </tr>

            <tr>
              <td>2</td>
              <td>9</td>
              <td>3</td>
              <td>3</td>
              <td>4</td>
              <td
                style="
                  border-right: 1px solid #fff;
                  border-bottom: 1px solid #fff;
                "
              ></td>
              <td
                style="
                  border-right: 1px solid #fff;
                  border-bottom: 1px solid #fff;
                "
              ></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Graphs -->
      <div
        style="
          display: grid;
          grid-template-columns: repeat(1, 1fr);
          justify-content: center;
          align-items: center;
          flex-direction: column;
          width: 100%;
        "
      >
        <div style="margin-bottom: 40px">
          <div id="graph-1" class="chart"></div>
        </div>
        <div style="margin-bottom: 40px">
          <div id="graph-2" class="chart"></div>
        </div>
        <div>
          <div id="graph-3" class="chart"></div>
        </div>
      </div>

      <script src="https://www.gstatic.com/charts/loader.js"></script>
    </div>
    <script>
      let width = document.documentElement.ClientWidth
      let height = document.documentElement.ClientHeight

      google.charts.load("current", { packages: ["corechart"] })
      google.charts.setOnLoadCallback(chartOne)
      google.charts.setOnLoadCallback(chartTwo)
      google.charts.setOnLoadCallback(chartThree)

      function chartOne() {
        var data = new google.visualization.DataTable()
        data.addColumn("string", "")
        data.addColumn("number", "value")

        data.addRows([
          ["D", 0.5],
          ["I", 0.5],
          ["S", 0.8],
          ["C", 0.1]
        ])

        var options = {
          title: "Graph 1 MOST",
          legend: {
            position: "none"
          },
          colors: ["#fea516"]
        }

        var chart_div = document.getElementById("graph-1")
        var chart = new google.visualization.LineChart(chart_div)

        google.visualization.events.addListener(chart, "ready", function () {
          chart_div.innerHTML = '<img src="' + chart.getImageURI() + '">'
        })

        chart.draw(data, options)
      }

      function chartTwo() {
        var data = new google.visualization.DataTable()
        data.addColumn("string", "")
        data.addColumn("number", "value")

        data.addRows([
          ["D", 0.5],
          ["I", 0.5],
          ["S", 0.8],
          ["C", 0.1]
        ])

        var options = {
          title: "Graph 2 LEAST",
          legend: {
            position: "none"
          },
          colors: ["#fea516"]
        }

        var chart_div = document.getElementById("graph-2")
        var chart = new google.visualization.LineChart(chart_div)

        google.visualization.events.addListener(chart, "ready", function () {
          chart_div.innerHTML = '<img src="' + chart.getImageURI() + '">'
        })

        chart.draw(data, options)
      }

      function chartThree() {
        var data = new google.visualization.DataTable()
        data.addColumn("string", "")
        data.addColumn("number", "value")

        data.addRows([
          ["D", 0.5],
          ["I", 0.5],
          ["S", 0.8],
          ["C", 0.1]
        ])

        var options = {
          title: "Graph 3 CHANGE",
          legend: {
            position: "none"
          },
          colors: ["#fea516"]
        }

        var chart_div = document.getElementById("graph-3")
        var chart = new google.visualization.LineChart(chart_div)

        google.visualization.events.addListener(chart, "ready", function () {
          chart_div.innerHTML = '<img src="' + chart.getImageURI() + '">'
        })

        chart.draw(data, options)
      }

      var beforePrint = function () {
        // google.charts.setOnLoadCallback(chartTwo)
        // google.charts.setOnLoadCallback(chartThree)
      }

      var afterPrint = function () {
        // google.charts.setOnLoadCallback(chartOne)
        // google.charts.setOnLoadCallback(chartTwo)
        // google.charts.setOnLoadCallback(chartThree)
      }

      function onResizeFunc() {
        google.charts.setOnLoadCallback(chartOne)
        google.charts.setOnLoadCallback(chartTwo)
        google.charts.setOnLoadCallback(chartThree)
        if (window.matchMedia) {
          var mediaQueryList = window.matchMedia("print")
          mediaQueryList.addListener(function (mql) {
            if (mql.matches) {
              google.charts.setOnLoadCallback(chartOne)
              google.charts.setOnLoadCallback(chartTwo)
              google.charts.setOnLoadCallback(chartThree)
              beforePrint()
            } else {
              afterPrint()
            }
          })
        }

        window.onbeforeprint = beforePrint
        window.onafterprint = afterPrint
      }
    </script>
  </body>
</html>
